<!DOCTYPE html>
<html>
  <head>
    <title>Flashcards</title>
    <!-- <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}"> -->
    <!-- Tailwind CDN -->
    <script src="script.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/flowbite@3.1.2/dist/flowbite.min.css"
      rel="stylesheet"
    />

    <script src="https://cdn.jsdelivr.net/npm/flowbite@3.1.2/dist/flowbite.min.js"></script>
    <style>
      @import "tailwindcss";
      @tailwind base;
      @tailwind components;
      @tailwind utilities;

      .mobile-popup-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        z-index: 1000;
        animation: fadeIn 0.3s ease-in-out;
      }

      .mobile-popup {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: white;
        border-radius: 10px;
        padding: 20px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        z-index: 1001;
        max-width: 90%;
        width: 400px;
        text-align: center;
        animation: slideIn 0.4s ease-out;
      }

      .mobile-popup-content h3 {
        margin-top: 0;
        color: #333;
        font-size: 1.5em;
      }

      .mobile-popup-content p {
        margin: 15px 0;
        color: #555;
      }

      .mobile-popup-close {
        background-color: #4caf50;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
        font-weight: bold;
        transition: background-color 0.2s;
      }

      .mobile-popup-close:hover {
        background-color: #45a049;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @keyframes slideIn {
        from {
          transform: translate(-50%, -60%);
          opacity: 0;
        }
        to {
          transform: translate(-50%, -50%);
          opacity: 1;
        }
      }
    </style>
  </head>

  <body
    class="bg-gradient-to-br from-blue-200 to-purple-300 max-h-screen min-h-screen flex flex-row items-center justify-center overflow-x-hidden px-4 sm:px-0 overflow-y-clip md:overflow-y-hidden"
  >
    <div class="text-center">
      <button
        class="absolute top-4 left-4 text-white bg-black hover:bg-gray-700 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mb-2 dark:bg-blue-600 dark:hover:bg-black focus:outline-none dark:focus:ring-blue-800"
        type="button"
        data-drawer-target="drawer-example"
        data-drawer-show="drawer-example"
        aria-controls="drawer-example"
      >
        Index
      </button>
    </div>
    <button
      onclick="toggleFullscreen()"
      class="absolute top-4 right-4 px-4 py-2 bg-blue-400 hover:bg-blue-500 rounded shadow text-white font-semibold"
    >
      Fullscreen
    </button>
    <div
      id="drawer-example"
      class="fixed top-0 left-0 z-40 h-screen p-4 overflow-y-auto transition-transform -translate-x-full bg-white w-80 dark:bg-gray-800"
      tabindex="-1"
      aria-labelledby="drawer-label"
    >
      <div class="w-full sm:w-full mb-4">
        <label for="module-filter" class="text-gray-700 font-medium mb-2"
          >Filter by Module:</label
        >
        <select
          id="module-filter"
          onchange="applyFilter()"
          class="px-3 py-1 rounded border w-full"
        >
          <option value="all">All</option>
          <!-- module options injected by JS -->
        </select>
      </div>
      <button
        onclick="clearAllStatuses()"
        class="w-full mb-4 px-4 py-2 bg-red-400 hover:bg-red-500 rounded shadow text-white font-semibold"
      >
        Clear All Status Indicators
      </button>
      <div
        id="index-container"
        class="w-full max-h-full overflow-y-auto bg-white bg-opacity-50 rounded-lg p-2 shadow-inner"
      >
        <!-- index listing injected by JS -->
      </div>
    </div>
    <div class="flex-1 bg-opacity-80 rounded-lgp-6">
      <div id="flashcard-container" class="w-full flex flex-col items-center">
        <div
          id="card"
          class="relative w-full sm:w-11/12 md:w-4/5 lg:w-3/4 h-[50vh] sm:h-[36.5rem] perspective mb-6"
        >
          <!-- Card inner -->
          <div
            id="card-inner"
            class="transition-transform duration-500 w-full h-full cursor-pointer"
            onclick="flipCard()"
          >
            <div
              id="card-front"
              class="absolute w-full h-full bg-white rounded-xl shadow-xl flex items-center justify-center text-base md:text-2xl font-semibold text-gray-800 backface-hidden p-6"
            >
              <!-- Question will be injected here -->
            </div>
            <div
              id="card-back"
              class="absolute w-full h-full bg-indigo-500 rounded-xl shadow-xl flex flex-col items-start justify-center text-base md:text-2xl font-semibold text-white backface-hidden p-6 rotate-y-180"
            >
              <!-- Answer will be injected here -->
            </div>
          </div>
        </div>
        <!-- Add card counter display -->
        <div id="card-counter" class="text-lg text-center mb-4 font-medium">
          Card 1 of 1
        </div>
        <div class="text-center fixed left-2 right-2 bottom-2">
          <button
            onclick="prevCard()"
            class="px-4 py-2 bg-gray-300 hover:bg-gray-400 rounded shadow text-gray-700 font-semibold"
          >
            Previous
          </button>
          <button
            onclick="nextCard()"
            class="px-4 py-2 bg-indigo-500 hover:bg-indigo-600 rounded shadow text-white font-semibold"
          >
            Next
          </button>
          <button
            class="px-4 py-2 bg-black hover:bg-gray-700 rounded shadow text-white font-semibold"
            type="button"
            data-drawer-target="controls-example"
            data-drawer-show="controls-example"
            aria-controls="controls-example"
          >
            Controls
          </button>
        </div>
        <div
          id="controls-example"
          class="sticky text-center bottom-0 left-0 z-40 p-4 justify-center overflow-y-auto transition-transform -translate-x-full bg-white w-full dark:bg-gray-800"
          tabindex="-1"
          aria-labelledby="drawer-label"
        >
          <div class="grid grid-cols-2 md:grid-cols-4 items-center gap-2">
            <button
              onclick="toggleBookmark()"
              class="col-span-1 px-4 py-2 bg-yellow-400 hover:bg-yellow-500 rounded shadow text-gray-800 font-semibold"
            >
              Bookmark
            </button>
            <button
              onclick="markCorrect()"
              class="col-span-1 px-4 py-2 bg-green-400 hover:bg-green-500 rounded shadow text-white font-semibold"
            >
              Correct
            </button>
            <button
              onclick="markIncorrect()"
              class="col-span-1 px-4 py-2 bg-red-400 hover:bg-red-500 rounded shadow text-white font-semibold"
            >
              Incorrect
            </button>
            <button
              onclick="toggleFullscreen()"
              class="col-span-1 px-4 py-2 bg-blue-400 hover:bg-blue-500 rounded shadow text-white font-semibold"
            >
              Fullscreen
            </button>
            <button
              onclick="toggleStudyMode()"
              id="study-mode-btn"
              class="col-span-2 md:col-span-4 mt-2 px-4 py-2 bg-purple-400 hover:bg-purple-500 rounded shadow text-white font-semibold"
            >
              Study Mode
            </button>
          </div>
        </div>
      </div>
    </div>
    
  </body>
</html>
